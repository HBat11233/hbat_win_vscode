define("js/scrollMonitor",function(t,i,o){!function(i){if("undefined"!=typeof define&&define.amd)define(["jquery"],i);else if("undefined"!=typeof o&&o.exports){{t("components/jquery/jquery")}o.exports=i($)}else window.scrollMonitor=i($)}(function(t){function i(){if(n.viewportTop=r.scrollTop(),n.viewportBottom=n.viewportTop+n.viewportHeight,n.documentHeight=a.height(),n.documentHeight!==I){for(k=l.length;k--;)l[k].recalculateLocation();I=n.documentHeight}}function o(){n.viewportHeight=r.height(),i(),s()}function e(){clearTimeout(y),y=setTimeout(o,100)}function s(){for(A=l.length;A--;)l[A].update();for(A=l.length;A--;)l[A].triggerCallbacks()}function h(i,o){function e(t){if(0!==t.length)for(l=t.length;l--;)I=t[l],I.callback.call(s,g),I.isOne&&t.splice(l,1)}var s=this;this.watchItem=i,this.offsets=o?o===+o?{top:o,bottom:o}:t.extend({},V,o):V,this.callbacks={},v.forEach(function(t){s.callbacks[t]=[]}),this.locked=!1;var h,c,r,a,l,I;this.triggerCallbacks=function(){switch(this.isInViewport&&!h&&e(this.callbacks[w]),this.isFullyInViewport&&!c&&e(this.callbacks[f]),this.isAboveViewport!==r&&this.isBelowViewport!==a&&(e(this.callbacks[p]),c||this.isFullyInViewport||(e(this.callbacks[f]),e(this.callbacks[b])),h||this.isInViewport||(e(this.callbacks[w]),e(this.callbacks[u]))),!this.isFullyInViewport&&c&&e(this.callbacks[b]),!this.isInViewport&&h&&e(this.callbacks[u]),this.isInViewport!==h&&e(this.callbacks[p]),!0){case h!==this.isInViewport:case c!==this.isFullyInViewport:case r!==this.isAboveViewport:case a!==this.isBelowViewport:e(this.callbacks[d])}h=this.isInViewport,c=this.isFullyInViewport,r=this.isAboveViewport,a=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var i=this.top,o=this.bottom;if(this.watchItem.nodeName){var s=this.watchItem.style.display;"none"===s&&(this.watchItem.style.display="");var h=t(this.watchItem).offset();this.top=h.top,this.bottom=h.top+this.watchItem.offsetHeight,"none"===s&&(this.watchItem.style.display=s)}else this.watchItem===+this.watchItem?this.top=this.bottom=this.watchItem>0?this.watchItem:n.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===i&&void 0===o||this.top===i&&this.bottom===o||e(this.callbacks[m])}},this.recalculateLocation(),this.update(),h=this.isInViewport,c=this.isFullyInViewport,r=this.isAboveViewport,a=this.isBelowViewport}function c(t){g=t,i(),s()}"forEach"in Array.prototype||(Array.prototype.forEach=function(t,i){for(var o=0,e=this.length;e>o;o++)t.call(i,this[o])});var n={},r=t(window),a=t(document),l=[],p="visibilityChange",w="enterViewport",f="fullyEnterViewport",u="exitViewport",b="partiallyExitViewport",m="locationChange",d="stateChange",v=[p,w,f,u,b,m,d],V={top:0,bottom:0};n.viewportTop,n.viewportBottom,n.documentHeight,n.viewportHeight=r.height();var I,g,k,y,A;return h.prototype={on:function(t,i,o){switch(!0){case t===p&&!this.isInViewport&&this.isAboveViewport:case t===w&&this.isInViewport:case t===f&&this.isFullyInViewport:case t===u&&this.isAboveViewport&&!this.isInViewport:case t===b&&this.isAboveViewport:if(i(),o)return}if(!this.callbacks[t])throw new Error("Tried to add a scroll monitor listener of type "+t+". Your options are: "+v.join(", "));this.callbacks[t].push({callback:i,isOne:o})},off:function(t,i){if(!this.callbacks[t])throw new Error("Tried to remove a scroll monitor listener of type "+t+". Your options are: "+v.join(", "));for(var o,e=0;o=this.callbacks[t][e];e++)if(o.callback===i){this.callbacks[t].splice(e,1);break}},one:function(t,i){this.on(t,i,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<n.viewportTop,this.isBelowViewport=this.bottom>n.viewportBottom,this.isInViewport=this.top<=n.viewportBottom&&this.bottom>=n.viewportTop,this.isFullyInViewport=this.top>=n.viewportTop&&this.bottom<=n.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var t=l.indexOf(this),i=this;l.splice(t,1),v.forEach(function(t){i.callbacks[t].length=0})},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}},v.forEach(function(t){h.prototype[t]=function(i,o){this.on.call(this,t,i,o)}}),i(),r.on("scroll",c),r.on("resize",e),n.beget=n.create=function(i,o){"string"==typeof i&&(i=t(i)[0]),i instanceof t&&(i=i[0]);var e=new h(i,o);return l.push(e),e.update(),e},n.update=function(){g=null,i(),s()},n.recalculateLocations=function(){n.documentHeight=0,n.update()},n})});